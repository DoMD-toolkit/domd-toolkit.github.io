{
  "sys": {
    "boot_msg": "CONNECTING TO REMOTE DATA NODE...",
    "news": [
      "<span class='crt-amber'>[2026-02-10]</span> System upgraded to JSON architecture.",
      "<span class='crt-amber'>[2026-02-10]</span> New version online: https://github.com/DoMD-toolkit/DoMD",
      "<span class='crt-amber'>[2026-02-10]</span> ChemFast 1.0.0 released: https://github.com/DoMD-toolkit/DoMD/releases/tag/v1.0.0",
      "NOTICE: Data is now fetched asynchronously."
    ]
  },
  "root": [
    {
      "label": "ABOUT PROJECT",
      "type": "file",
	  "mode": "fast",
      "content": "PROJECT: DoMD-Toolkit\nVERSION: 1.0.0\nThe Doraemon-ish toolkit for MD simulations.\n[[IMG: https://www.domd.today/images/DoMD-logo.png | LOGO ]]\n\n<span class='crt-amber'>Introduction</span>\nDoMD (ChemFAST) is a specialized software framework designed to democratize high-throughput molecular simulations. It functions as a \"Chemical Compiler\", translating high-level chemical intuition into simulation-ready computational models.\nDesign Philosophy\nThe central tenet of ChemFAST is \"Chemical Completeness\".\nIn materials synthesis, chemists manipulate matter through functional groups, monomers, and reaction rules—not by positioning individual atoms in 3D space. Traditional simulation builders, however, often require users to manually define connectivity or rely on rigid templates, creating a disconnect between chemical design and computational implementation.\nChemFAST bridges this gap by adopting a Generalized Topological Representation. It abstracts the complexity of system construction into a generative logic that mirrors laboratory synthesis:\n<ul><li>Input: Semantic chemical descriptors (SMILES) and reaction logic (SMARTS).</li><li>Process: Automated compilation via stochastic graph transformation and machine learning.</li><li>Output: Fully equilibrated, parameterized, and topologically complex molecular systems.</li></ul>\n\n<span class='crt-amber'>Key Capabilities</span>\nChemFAST is engineered to handle the full complexity of soft matter systems:\n<ul><li>Universal Topology Construction: From simple linear chains to hyper-branched polymers and percolated cross-linked networks.</li><li>Stereochemical Fidelity: Rigorously preserves chirality (R/S) and cis/trans isomerism during the transition from 2D strings to 3D models.</li><li>Automated Parameterization: Eliminates the bottleneck of force field assignment using a hybrid engine that combines database accuracy with Graph Attention Network (GAT) predictions.</li><li>High-Throughput Scalibility: Designed for batch processing, enabling the screening of hundreds of materials (e.g., Polyimides) with minimal manual intervention.</li></ul>\n<span class='crt-blue'>Scope and Limitations</span>\nWhile ChemFAST is a versatile toolkit, it is optimized for specific domains of molecular modeling. Users should be aware of the following scope boundaries regarding topological reconstruction and force field applicability.\n<ol><li>Backmapping and Structural Reconstruction: The S-CGFG (SMILES/SMARTS-driven Coarse-Graining/Fine-Graining) algorithm excels at reconstructing amorphous, flexible matter.</li></ol>\n<ul><li>Supported Systems:</li><ul><li>Synthetic Polymers: Linear, star, and ring polymers; random/block copolymers.</li><li>Complex Networks: Epoxy resins, hydrogels, and solid polymer electrolytes (SPEs) formed via in-situ polymerization.</li><li>Stereochemistry: The builder strictly enforces local stereochemical constraints (e.g., tacticity in polypropylene, cis/trans bonds in polyisoprene) defined in the input SMILES.</li></ul>\n</ul>\n<ul><li value='2'>Limitations (Biomacromolecules):</li><ul><li>ChemFAST is NOT a protein folding engine. The ab initio prediction of tertiary structures for complex biological macromolecules (Proteins, DNA, RNA) is beyond the scope of this toolkit. * Solution: We employ a Rigid-Body Protocol. Users must provide experimentally resolved structures (e.g., PDB files) or high-quality predictions (e.g., from AlphaFold). ChemFAST treats these as fixed topological scaffolds, building the flexible synthetic matrix around them to construct bio-hybrid assemblies (e.g., Core-Shell nanoparticles).</li></ul></ul>\n\n<ol start=\"2\"><li>Force Field Assignment: The assignment engine is built upon the OPLS-AA framework.</li></ol>\n\n<ul><li>Target Domain:</li><ul><li>Materials Science: Organic molecules, synthetic polymers, and electrolytes.</li><li>The hybrid database/ML approach is extensively validated for these systems, covering partial charges and bonded parameters (via GATs) for a vast chemical space.</li></ul>\n</ul>\n<ul><li>Limitations:</li><ul><li>Bio-specific Potentials: ChemFAST is currently not optimized for specialized biological force fields such as OPLS-AA/M, AMBER or CHARMM. Users working strictly on biomolecular dynamics may need to validate the OPLS parameters or use the User-Defined Force Field API to inject external parameters.</li><li>Inorganic Systems: For inorganic systems,ChemFAST relies on interface-specific parameters while standard OPLS-AA force field may failed.</li></ul></ul>\n\n\n",
      "_content": "\n\n[[IMG: https://www.domd.today/images/DoMD-logo.png | LOGO ]]\n\nTESTING NEW IMAGE MODES:\n\n1. Default (Left, Max 300px):\n[[IMG: https://placehold.co/400x200/000000/33ff33/png?text=DEFAULT | Default Mode ]]\n\n2. Wide Mode (Left, Max 600px):\n[[IMG: https://placehold.co/700x250/000000/33ff33/png?text=WIDE+MODE | Wide Mode | wide ]]\n\n3. Center Mode (Center, Max 300px):\n[[IMG: https://placehold.co/400x200/000000/33ff33/png?text=CENTERED | Center Mode | center ]]\n\n4. Wide + Center Mode:\n[[IMG: https://placehold.co/700x250/000000/33ff33/png?text=WIDE+AND+CENTERED | Wide Center | wide | center ]]\n\n[[CODE: chem.py]]\ndef run(): pass\n[[ENDCODE]]\n\n Code and image Examples"
    },
    {
      "label": "TEAM & CVs",
      "type": "menu",
      "items": [
        {
          "label": "Core Members",
          "type": "menu",
          "items": [
            {
              "label": "Ming-Yang Li (Lead)",
              "type": "file",
              "content": "<span class='crt-blue'>NAME:</span> Ming-Yang Li\n<span class='crt-blue'>ROLE:</span> Lead\n[[IMG: https://www.domd.today/images/mingyang-li.jpg | PHOTO | small ]]\n<span class='crt-blue'>BIO:</span> Dynamics in coarse-grained molecular dynamics simulations.\n<span class='crt-blue'>RESEARCH AREA:</span> Dynamics in coarse-grained molecular dynamics simulations.\n<span class='crt-blue'>Email:</span> limy1619 AT mails.jlu.edu.cn\n<span class='crt-blue'>Publications:</span>\n1. , <span style='font-style: italic;'></span>, <span style='font-weight: bold;'></span>, ."
            },
            {
              "label": "Rui Shi (Lead)",
              "type": "file",
              "content": "<span class='crt-blue'>NAME:</span> Rui Shi\n<span class='crt-blue'>ROLE:</span> Archmage\n[[IMG: https://www.domd.today/images/ruishi.jpg | PHOTO | small ]]\n<span class='crt-blue'>BIO:</span> Fireball! Lightning Bolt! <span class='crt-purple'>Turn you into gay!</span>\n<span class='crt-blue'>RESEARCH AREA:</span> Dynamics in coarse-grained molecular dynamics simulations.\n<span class='crt-blue'>Email:</span> \n<span class='crt-blue'>Publications:</span>\n1. 1. Ji-Yuan Xing, Sheng Li, Rui Shi*, Zhong-Yuan Lu*，Fine-Tuning Gradient Copolymers with Diverse and Controlled Microstructure and Mechanical Properties via Monomer Sequence Distribution: An In Silico Study，Macromolecules, 2024, 57(1), 385–395., <span style='font-style: italic;'>ma</span>, <span style='font-weight: bold;'>2025</span>, 1,2.\n2. 2. Mechanism of periodic field driven self-assembly process, The Journal of Chemical Physics, Duo Xu; Rui Shi*; Zhao-Yan Sun; Zhong-Yuan Lu*, <span style='font-style: italic;'>ma</span>, <span style='font-weight: bold;'>2025</span>, 3,4."
            }
          ]
        }
      ]
    },
    {
      "label": "PUBLICATIONS",
      "type": "menu",
      "items": [
        {
          "label": "2024-2025",
          "type": "file",
          "content": "1. 1. Ji-Yuan Xing, Sheng Li, Rui Shi*, Zhong-Yuan Lu*，Fine-Tuning Gradient Copolymers with Diverse and Controlled Microstructure and Mechanical Properties via Monomer Sequence Distribution: An In Silico Study，<span style='font-style: italic;'>Macromolecules</span>, <span style='font-weight: bold;'>2024</span>, 57(1), 385–395., <span style='font-style: italic;'>ma</span>, <span style='font-weight: bold;'>2025</span>, 1,2.\n[[IMG: /images/ruishi.jpg | TOC | small ]]\n2. 2. fdafdsa, <span style='font-style: italic;'>ff</span>, <span style='font-weight: bold;'>2205</span>, 3,4.\n[[IMG: /image/ruishi.jpg | TOC | small ]]",
          "mode": "fast"
        }
      ]
    },
    {
      "label": "HELP",
      "type": "menu",
      "items": [
        {
          "label": "INSTALLATION",
          "type": "file",
          "content": "[[IMG: https://www.domd.today/images/DoMD-logo.png | LOGO ]]\n\nTESTING NEW IMAGE MODES:\n\n1. Default (Left, Max 300px):\n[[IMG: https://placehold.co/400x200/000000/33ff33/png?text=DEFAULT | Default Mode ]]\n\n2. Wide Mode (Left, Max 600px):\n[[IMG: https://placehold.co/700x250/000000/33ff33/png?text=WIDE+MODE | Wide Mode | wide ]]\n\n3. Center Mode (Center, Max 300px):\n[[IMG: https://placehold.co/400x200/000000/33ff33/png?text=CENTERED | Center Mode | center ]]\n\n4. Wide + Center Mode:\n[[IMG: https://placehold.co/700x250/000000/33ff33/png?text=WIDE+AND+CENTERED | Wide Center | wide | center ]]\n\n[[CODE: chem.py]]\ndef run(): pass\n[[ENDCODE]]\n\n Code and image Examples",
          "mode": "fast"
        },
        {
          "label": "TOTURIALs",
          "type": "menu",
          "items": [
            {
              "label": "Polyimide",
              "type": "file",
              "mode": "fast",
              "content": "This tutorial demonstrates the advanced \"Coarse-Graining -> Pre-equilibration -> Backmapping -> Force Field Assignment -> Write Output\" workflow provided by DoMD.\n\nGenerating equilibrated structures for long-chain polymers in atomistic detail is computationally expensive. DoMD solves this by:\n<ol><li>CG Initialization: Generating a specific Coarse-Grained (CG) system from SMILES.</li><li>CG Pre-equilibration: Relaxing the system using efficient CG dynamics.</li><li>Backmapping: Reconstructing the all-atom details from the relaxed CG configuration.</li><li>Force Field Assignment: Assigning OPLS-AA parameters using DoMD's database and ML models.</li><li>Output Generation: Exporting the final equilibrated structure and topology for GROMACS simulations.</li></ol>\n\n<span class='crt-amber'>Step 1.</span> Chemical Definitions\nFirst, we define the chemistry of the system. We use ODPA (4,4′-oxydiphthalic anhydride) and ODA (4,4'-Oxydianiline) as monomers.\n\nThe `reaction_template` is crucial. It defines how the monomers connect (using SMARTS) for both the CG topology construction and the AA reconstruction.\n\n[[CODE: reaction_template.py]]\nimport sys\n# sys.path.append('/path/to/DoMD')\nfrom domd_tools import create_cg_system, build_aa_topology, assign_ff_parameters, get_gmx\nfrom misc.logger import logger\nlogger.setLevel('INFO')\n\n# 1. Define Monomers\nsmiA = 'Nc1ccc(Oc2ccc(N)cc2)cc1'  # ODA (Diamine)\nsmiB = 'O1C(=O)c2cc(Oc3cc4C(=O)OC(=O)c4cc3)ccc2C1=O' # ODPA (Dianhydride)\n\n# 2. Define Reaction Rules (Imidization)\nreaction_template = {\n    'B-A': {\n        'cg_reactant_list': [('A', 'B')],\n        # SMARTS for: Anhydride + Amine -> Imide Linkage\n        'smarts': '[#7H2:1].[#6:3](=[#8:4])[#8:2][#6:5]=[#8:6]>>[#6:3](=[#8:4])[#7:1][#6:5]=[#8:6].[#8:2]',\n        'prod_idx': [0]\n    }\n}\n\nmols = {\n    'A': {'smiles': smiA, 'file': None},\n    'B': {'smiles': smiB, 'file': None},\n}\n[[ENDCODE]]\n\n<span class='crt-amber'>Step 2.</span> Generate Initial CG System\nWe describe the system composition using metadata. Here we define two types of polymer chains: * Chain Type 1: 20 repeating units (A-B...), 20 chains. * Chain Type 2: 10 repeating units, 20 chains.\n\nCalling `create_cg_system` will calculate the force field parameters (using Hybrid ML/HSP) and generate the simulation files.\n[[CODE: create_cg.py]]\n# Define chain composition\nmeta1 = {\n    'type': ['A','B'] * 10, # Sequence: A-B-A-B... (20 beads)\n    'bond': '0-1,1-2,2-3,3-4,4-5,5-6,6-7,7-8,8-9,9-10,10-11,11-12,12-13,13-14,14-15,15-16,16-17,17-18,18-19',\n    'N': 20, # Number of chains\n    'is_rigid': False,\n    'is_angle': True\n}\n\nmeta2 = {\n    'type': ['A','B'] * 5, # Sequence: A-B... (10 beads)\n    'bond': '0-1,1-2,2-3,3-4,4-5,5-6,6-7,7-8,8-9',\n    'N': 20, # Number of chains\n    'is_rigid': False,\n    'is_angle': True\n}\n\n# Generate CG input files\ncreate_cg_system(mols, reaction_template, [meta1, meta2])\n[[ENDCODE]]\n<span class='crt-blue'>Desired outputs from Step 2:</span> * chemfast_cg.xml: Initial coordinates and topology for the CG simulation. * cg_params.txt: The derived force field parameters.\n\n<span class='crt-amber'>Step 3.</span> CG Pre-equilibration (Simulation)\nAt this stage, you need to perform a coarse-grained simulation to relax the system.\n\nImportant\n\nExternal Simulation Step:\n<ol><li>Take the chemfast_cg.xml generated in <span class='crt-amber'>Step 2.</span></li><li>Run a molecular dynamics simulation using HOOMD-blue v1.3.3 or GALAMOST.</li><li>Perform energy minimization, followed by NVT/NPT equilibration to reach the desired density and chain conformation.</li><li>Save the final frame (snapshot) of the simulation as CG_pre_eq/final.xml.</li></ol>\n\nThis step creates a realistic, entangled polymer melt structure at a fraction of the cost of all-atom equilibration.\n\n<span class='crt-amber'>Step 4:</span> All-Atom Topology Building\n\nOnce the CG simulation is complete and you have the final.xml, DoMD can reconstruct the atomistic details. It maps the atoms back onto the bead positions and rebuilds the chemical topology based on the reaction templates.\n\n[[CODE: finegraining.py]]\n# Path to the relaxed CG configuration\nxmlfile = 'CG_pre_eq/final.xml'\n\n# Reconstruct Topology and Coordinates\nconfs, mol_graphs, box = build_aa_topology(\n    mols,\n    reaction_template,\n    xmlfile\n)\n[[ENDCODE]]\n\n<span class='crt-amber'>Step 5.</span> Force Field Assignment & Output\nFinally, we assign OPLS-AA force field parameters to the reconstructed all-atom topology and export the files for GROMACS. DoMD handles the atom typing using its database and Graph Attention Networks (GATs).\n\n[[CODE: FF.py]]\n# 1. Assign AA Force Field\nffs = assign_ff_parameters(mol_graphs)\n\n# 2. Write GROMACS files\nget_gmx(\n    mol_graphs,\n    confs,\n    ffs,\n    box,\n    filename='chemfast_final'\n)\n[[ENDCODE]]\n\n<span class='crt-blue>Final Outputs:</span> * chemfast_final.gro: Equilibrated all-atom coordinates. * chemfast_final.top: Full system topology with OPLS-AA parameters.\n\nYou can now use these files to start your simulation in GROMACS.\n"
            },
            {
              "label": "SPE network",
              "type": "file",
              "mode": "fast",
              "content": "<span class='crt-amber'>Crosslinked Networks</span>\nThis tutorial demonstrates how to model a crosslinked Solid Polymer Electrolyte (SPE) network. Unlike previous tutorials where chains were pre-built, here we simulate the in-situ polymerization process.\n\nThe system consists of:\n<ul><li>Precursors: Mono-functional acrylates (A-B) and Di-functional crosslinkers (A-C-A).</li><li>Electrolyte: Lithium salt (LiTFSI) and Succinonitrile (SN) solvent.</li><li>Reaction: Vinyl polymerization of the acrylate groups to form a 3D network.</li></ul>\n\nKey features:\n<ol><li>Reactive CG Simulation: Using DoMD to define reaction templates that are executed dynamically during the CG simulation (via HOOMD-blue/PyGAMD).</li><li>Regiospecific Control: Defining strict SMARTS patterns to control reaction products (e.g., Head-to-Tail connectivity).</li><li>Hybrid Force Field Strategy: Applying different parameterization methods based on molecule size and type</li></ol>\n\n<span class='crt-amber'>Step 1.</span> Chemical Definitions & Reaction Rules\nWe define the components and the reaction rules.\n<ul><li>A: Acrylic Acid group (C=C center).</li><li>B: Butanol tail.</li><li>C: PEG crosslinker chain.</li><li>L/T: Li+ and TFSI-.</li><li>S: Succinonitrile (Solvent).</li></ul>\n\n<span class=\"crt-red\">Important</span>\n\nRegiospecificity: Bridging Isotropic Beads and Anisotropic Chemistry\n\nIn Coarse-Grained (CG) simulations, reactions (e.g., A + A -> A-A) are typically triggered by spatial proximity, treating beads as isotropic spheres without inherent directionality. However, the resulting all-atom chemistry is strictly regiospecific.\n\nFor vinyl polymerization, the connectivity direction determines the microstructure. While Head-to-Tail (H-T) is common, Head-to-Head (H-H) or Tail-to-Tail (T-T) linkages are chemically valid structures that may occur under specific synthetic conditions:\n<ul><li>Head-to-Tail (H-T): -CH2-CH(R)-CH2-CH(R)-</li><li>Head-to-Head (H-H): -CH2-CH(R)-CH(R)-CH2-</li><li>Tail-to-Tail (T-T): -CH(R)-CH2-CH2-CH(R)-</li></ul>\n\nThe \"What You See Is What You Get\" Principle:\n\nChemFAST does not enforce \"standard\" chemistry; it strictly executes the topology defined by your inputs. Therefore:\n<ol><li>Define SMARTS Precisely: You must write the SMARTS pattern to explicitly define the atom mapping for the desired topology (H-T, H-H, or T-T).</li><li>Match Reaction Recording: Ensure that the reactant indices recorded by the CG engine (HOOMD-blue/PyGAMD) match the order of reactants in your SMARTS.</li></ol>\n<ul><li>Example (H-T): [C:1]=[C:2](R).[C:3]=[C:4](R) >> [C:1][C:2](R)[C:3][C:4](R)</li><li>This SMARTS specifically instructs the software to connect the \"Tail\" ([C:2]) of the first monomer to the \"Head\" ([C:3]) of the second.</li></ul>\n[[CODE: sys_define.py]]\nimport sys\n# sys.path.append('/path/to/DoMD')\nfrom domd_tools import create_cg_system, build_aa_topology, assign_ff_parameters, get_gmx\nfrom misc.logger import logger\nlogger.setLevel('INFO')\n\n# 1. Define Components\nsmiA = 'C=CC(=O)O'   # Acrylate monomer (reactive)\nsmiB = 'OCCCC'       # Butyl tail\nsmiC = 'OCCOCCOCCOCCO' # PEG Crosslinker\nsmiL = '[Li+]'       # Lithium\nsmiT = 'C(F)(F)(F)S(=O)(=O)[N-]S(=O)(=O)C(F)(F)(F)' # TFSI\nsmiS = 'N#CCCC#N'    # Succinonitrile\n\n# 2. Define Reaction Rules\nreaction_template = {\n    # Vinyl Polymerization (Crosslinking Step)\n    # Note: The SMARTS specifies the mapping of the C=C double bond opening\n    'A-A': {\n        'cg_reactant_list': [('A', 'A')],\n        'smarts': '[C:1]=[C:2]C(=O)O.[C:3]=CC(=O)O>>[C:1][C:2](C(=O)O)[C:3]=CC(=O)O',\n        'prod_idx': [0]\n    },\n    # Pre-cursor formation (Acid + Alcohol -> Ester)\n    # These might be pre-reacted or reacted in-situ depending on simulation stage\n    'A-B': {\n        'cg_reactant_list': [('A', 'B')],\n        'smarts': 'C(=O)[#8H1:1].[#6:2][#8H1:3]>>C(=O)[#8:3][#6:2].[#8:1]',\n        'prod_idx': [0]\n    },\n    'A-C': {\n        'cg_reactant_list': [('A', 'C')],\n        'smarts': 'C(=O)[#8H1:1].[#6:2][#8H1:3]>>C(=O)[#8:3][#6:2].[#8:1]',\n        'prod_idx': [0]\n    },\n    # Dummy reaction for single ions/solvents to ensure they pass through\n    'S': {\n        'cg_reactant_list': [('L',), ('T',), ('S',)],\n        'smarts': '*>>*',\n        'prod_idx': [0],\n    }\n}\n\nmols = {\n    'A': {'smiles': smiA, 'file': None},\n    'B': {'smiles': smiB, 'file': None},\n    'C': {'smiles': smiC, 'file': None},\n    'L': {'smiles': smiL, 'file': None},\n    'T': {'smiles': smiT, 'file': None},\n    'S': {'smiles': smiS, 'file': None},\n}\n[[ENDCODE]]\n<span class='crt-amber'>Step 2.</span> Generate Initial CG syatem\nWe initialize the system with precursors rather than a fully formed network. The network will be formed during the CG simulation step.\n<ul><li>Meta 1: A-B (Butyl Acrylate monomer).</li><li>Meta 2: A-C-A (PEG Diacrylate crosslinker).</li><li>Meta 3/4/5: Solvents and Ions.</li></ul>\n[[CODE: CG_GEN.py]]\n# System Composition\nn_ba = 30000        # Number of Butyl Acrylate precursors\nn_pegda = int(n_ba * 0.01) # 1% Crosslinker\nn_sn = int(n_ba * 12/7)    # Solvent\nn_L = int(2 * n_ba/7)      # LiTFSI\n\n# Define Precursor Topologies\nmeta1 = { 'type': ['A','B'], 'bond': '0-1', 'N': n_ba, 'is_rigid': False, 'is_angle': True }\nmeta2 = { 'type': ['A','C','A'], 'bond': '0-1,1-2', 'N': n_pegda, 'is_rigid': False, 'is_angle': True }\nmeta3 = { 'type': ['S'], 'N': n_sn, 'is_rigid': False, 'is_angle': True }\nmeta4 = { 'type': ['L'], 'N': n_L , 'is_rigid': False, 'is_angle': True }\nmeta5 = { 'type': ['T'], 'N': n_L , 'is_rigid': False, 'is_angle': True } # Corrected type to 'T'\n\nmetas = [meta1, meta2, meta3, meta4, meta5]\n\n# Generate Initial \"Soup\"\ncreate_cg_system(mols, reaction_template, metas)\n[[ENDCODE]]\n<span class='crt-pink'>Desired outputs:</span> * chemfast_cg.xml: Contains the unconnected precursors mixed with solvents/ions.\n<span class='crt-amber'>Step 3.</span> Reactive CG Simulation (Network formation)\nThis is the most critical step. You must run a simulation that supports topology changes (bond formation).\nExternal Protocol (HOOMD-blue / PyGAMD):\n<ol><li>Load chemfast_cg.xml.</li><li>Define Reaction Criteria: Set the reaction radius and probability for the A-A reaction defined in <span class='crt-amber'>Step 1</span>.</li><li>Run Dynamics: As beads diffuse and collide, 'A' beads will bond to form the polyacrylate backbone, crosslinked by 'C' chains.</li><li>Equilibrate: After the reaction reaches the desired conversion (e.g., 90%), continue relaxing the network.</li<<li>Save the final crosslinked network as `cg/out_final_react.xml`.</li></ol>\n[[IMG: https://raw.githubusercontent.com/DoMD-toolkit/DoMD/refs/heads/main/docs/source/_static/network_polymerization.png | CG_RXN_NET | wide | center]]\n<span class='crt-amber'>Step 4.</span> All-Atom Topoloty building\nDoMD reconstructs the complex, irregular network topology from the reacted CG snapshot.\n[[CODE: FINEGRAINNING.py]]\n# Path to the reacted, crosslinked network snapshot\nxmlfile = 'cg/out_final_react.xml'\n\n# Reconstruct AA Topology\n# chunks_per_d=5 is highly recommended for infinite networks to save memory\nconfs, mol_graphs, box = build_aa_topology(\n    mols,\n    reaction_template,\n    xmlfile,\n    chunks_per_d=5\n)\n[[ENDCODE]]\n<span class='crt-amber'>Step 5.</span> Force Field Assignment\nA crosslinked network is essentially one giant molecule (Infinite Cluster). Standard template matching can fail on such irregular structures. We use a Size-Dependent Hybrid Strategy:\n<ul><li>Giant Molecules (>20 atoms): The Polymer Network. Use ML (GATs) for robust parameterization of the irregular backbone.</li><li>Single Ions (1 atom): Li+. Use TPL (Templates) for standard OPLS parameters.</li><li>Small Molecules: TFSI / Solvent. Use Hybrid (DB + ML fallback).</li></ul>\n[[CODE: FF.py]]\nstrategies = []\nfor mol in mol_graphs:\n    if mol.number_of_nodes() > 20:\n        strategies.append('ml')      # Network / Oligomers\n    elif mol.number_of_nodes() == 1:\n        strategies.append('tpl')     # Li+ ions\n    else:\n        strategies.append('hybrid')  # TFSI, Succinonitrile\n\n# Assign Parameters\nffs = assign_ff_parameters(mol_graphs, strategies=strategies)\n\n# Export\nget_gmx(mol_graphs, confs, ffs, box)\n[[ENDCODE]]\n<span class='crt-pink'>Final outputs:</span> The generated `chemfast.gro` and `chemfast.top` represent a chemically specific, crosslinked polymer electrolyte network swollen with solvent and ions, ready for conductivity simulations.\n\n\n\n\n\n"
            }
          ]
        }
      ]
    },
    {
      "label": "CLEAR SCREEN",
      "type": "action",
      "func": "clear"
    },
    {
      "label": "SHUTDOWN",
      "type": "action",
      "func": "shutdown"
    }
  ]
}
